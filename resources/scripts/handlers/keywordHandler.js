!function(){$.bind("ircChannelMessage",function(e){for(var r=e.getMessage().toLowerCase(),d=e.getSender(),n="",i="",o="",s=$.inidb.GetKeyList("keywords",""),a=0;a<s.length;a++)if(o=s[a].toLowerCase(),n=new RegExp("\\b"+o+"\\b","i"),n.exec(r))return i=$.inidb.get("keywords",o),i=i.replace("(sender)",d),$.coolDown.get(o,d)>0?void $.consoleDebug("keyword "+o+" not sent because its on a cooldown."):void $.say(i)}),$.bind("command",function(e){var r=e.getSender(),d=e.getCommand(),n=(e.getArguments().trim(),e.getArgs()),i=n[0],o=n[1].toLowerCase();if(d.equalsIgnoreCase("keyword")){if(!$.isAdmin(r))return void $.say($.whisperPrefix(r)+$.adminMsg);if(!i)return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.usage"));if(i.equalsIgnoreCase("add")){if(!o)return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.add.usage"));var s=n.splice(2).join(" ");return $.inidb.set("keywords",o,s),void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.added",o))}if(i.equalsIgnoreCase("remove")){if(!o)return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.remove.usage"));if(!$.inidb.exists("keywords",o))return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.404"));$.inidb.del("keywords",o),$.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.removed",o))}}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./handlers/keywordHandler.js")&&$.registerChatCommand("./handlers/keywordHandler.js","keyword",1)})}();
