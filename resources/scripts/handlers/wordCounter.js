!function(){$.bind("command",function(e){var r=e.getSender(),n=e.getCommand(),o=e.getArgs(),i=o[0],t=o[1];if(n.equalsIgnoreCase("wordcounter")){if(!$.isAdmin(r))return void $.say($.whisperPrefix(r)+$.adminMsg);if(!i)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.usage"));if(i.equalsIgnoreCase("add")){if(!t)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.add.usage"));t=t.replace(i,""),$.inidb.set("wordCounter",t,0),$.say(t+$.lang.get("wordcounter.added"))}if(i.equalsIgnoreCase("remove")){if(!t)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.remove.usage"));if(!$.inidb.exists("wordCounter",t))return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.err.404"));t=t.replace(i,""),$.inidb.del("wordCounter",t),$.say(t+$.lang.get("wordcounter.removed"))}}if(n.equalsIgnoreCase("count")){if(!$.inidb.exists("wordCounter",i.toLowerCase()))return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.err.404"));$.say($.lang.get("wordcounter.count",i,$.inidb.get("wordCounter",i.toLowerCase())))}}),$.bind("ircChannelMessage",function(e){var r,n,o=e.getMessage().toLowerCase(),t=$.inidb.GetKeyList("wordCounter","");if($.bot.isModuleEnabled("./handlers/wordCounter.js")){for(i in t)n=t[i].toLowerCase(),r=new RegExp("\\b"+n+"\\b","g");r.test(o)&&($.consoleDebug("inidb incr"+n+" 1 in word counter"),$.inidb.incr("wordCounter",n,1))}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./handlers/wordCounter.js")&&($.registerChatCommand("./handlers/wordCounter.js","wordcounter",1),$.registerChatCommand("./handlers/wordCounter.js","count",7))})}();
