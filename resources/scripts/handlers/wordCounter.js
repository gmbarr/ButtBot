!function(){$.bind("command",function(e){var r=e.getSender(),n=e.getCommand(),o=e.getArgs(),i=o[0],d=o[1];if(n.equalsIgnoreCase("wordcounter")){if(!$.isAdmin(r))return void $.say($.whisperPrefix(r)+$.adminMsg);if(!i)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.usage"));if(i.equalsIgnoreCase("add")){if(!d)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.add.usage"));d=d.replace(i,""),$.inidb.set("wordCounter",d,0),$.say(d+$.lang.get("wordcounter.added"))}if(i.equalsIgnoreCase("remove")){if(!d)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.remove.usage"));if(!$.inidb.exists("wordCounter",d))return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.err.404"));d=d.replace(i,""),$.inidb.del("wordCounter",d),$.say(d+$.lang.get("wordcounter.removed"))}}if(n.equalsIgnoreCase("count")){if(!$.inidb.exists("wordCounter",i.toLowerCase()))return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.err.404"));$.say($.lang.get("wordcounter.count",i,$.inidb.get("wordCounter",i.toLowerCase())))}}),$.bind("ircChannelMessage",function(e){var r,n,o=e.getMessage().toLowerCase(),d=$.inidb.GetKeyList("wordCounter","");if($.bot.isModuleEnabled("./handlers/wordCounter.js"))for(i in d)if(n=d[i].toLowerCase(),r=new RegExp("\\b"+n+"\\b","g"),r.exec(o)){$.consoleDebug("inidb incr"+n+" 1 in word counter"),$.inidb.incr("wordCounter",n,1);break}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./handlers/wordCounter.js")&&($.registerChatCommand("./handlers/wordCounter.js","wordcounter",1),$.registerChatCommand("./handlers/wordCounter.js","count",7))})}();
