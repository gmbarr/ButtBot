!function(){function n(){$.inidb.set("panelstats","viewerCount",$.users.length)}function e(){$.setIniDbBoolean("panelstats","streamOnline",$.isOnline($.channelName))}function a(){var n=$.getStreamUptimeSeconds($.channelName),e=(10>n/3600?"0":"")+Math.floor(n/3600),a=(10>n%3600/60?"0":"")+Math.floor(n%3600/60);$.inidb.set("panelstats","streamUptime",e+":"+a)}function t(n){$.bot.isModuleEnabled("./handlers/panelHandler.js")&&($.inidb.incr("panelchatstats","chat_"+$.getCurLocalTimeString("MM.dd.yy"),1),$.inidb.incr("panelchatuserstats",n,1))}function l(n){$.bot.isModuleEnabled("./handlers/panelHandler.js")&&($.inidb.incr("panelmodstats","mod_"+$.getCurLocalTimeString("MM.dd.yy"),1),$.inidb.incr("panelmoduserstats",n,1))}function i(){$.bot.isModuleEnabled("./handlers/panelHandler.js")&&$.inidb.set("streamInfo","title",$.getStatus($.channelName))}function s(){if($.bot.isModuleEnabled("./handlers/panelHandler.js")){if($.inidb.get("panelstats","streamOnline").equalsIgnoreCase("false"))return m=null,void(b=null);b=$.getGame($.channelName),null!=b&&c!=b&&(c=b,m=$.systemTime())}}function d(){if($.bot.isModuleEnabled("./handlers/panelHandler.js")){if(null!=m){var n=$.systemTime()-m;return $.getTimeString(n/1e3)}return"0 seconds"}}function r(){$.bot.isModuleEnabled("./handlers/panelHandler.js")&&$.inidb.set("streamInfo","game",b)}function o(){n(),e(),a(),s(),i(),r()}var u=!1,b=null,c=null,m=null;$.bind("initReady",function(){u||($.bot.isModuleEnabled("./handlers/panelHandler.js")?(u=!0,$.inidb.set("panelstats","enabled","true"),o(),setInterval(function(){o()},6e4)):$.inidb.set("panelstats","enabled","false"))}),$.getPlayTime=d,$.panelDB={updateChatLinesDB:t,updateModLinesDB:l}}();
