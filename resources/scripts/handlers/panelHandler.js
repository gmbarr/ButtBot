!function(){function n(){$.inidb.set("panelstats","viewerCount",$.users.length)}function e(){$.setIniDbBoolean("panelstats","streamOnline",$.isOnline($.channelName))}function t(){var n=$.getStreamUptimeSeconds($.channelName),e=(10>n/3600?"0":"")+Math.floor(n/3600),t=(10>n%3600/60?"0":"")+Math.floor(n%3600/60);$.inidb.set("panelstats","streamUptime",e+":"+t)}function a(n){$.bot.isModuleEnabled("./handlers/panelHandler.js")&&($.inidb.incr("panelchatstats","chat_"+$.getCurLocalTimeString("MM.dd.yy"),1),$.inidb.incr("panelchatuserstats",n,1))}function i(n){$.bot.isModuleEnabled("./handlers/panelHandler.js")&&($.inidb.incr("panelmodstats","mod_"+$.getCurLocalTimeString("MM.dd.yy"),1),$.inidb.incr("panelmoduserstats",n,1))}function l(){$.inidb.set("streamInfo","title",$.getStatus($.channelName))}function s(){return $.inidb.get("panelstats","streamOnline").equalsIgnoreCase("false")?(b=null,void(c=null)):(c=$.getGame($.channelName),void(null!=c&&m!=c&&(m=c,b=$.systemTime())))}function d(){if(null!=b){var n=$.systemTime()-b;return $.getTimeString(n/1e3)}return"0 seconds"}function o(){$.inidb.set("streamInfo","game",c)}function r(){n(),e(),t(),s(),l(),o()}var u=!1,c=null,m=null,b=null;$.bind("initReady",function(){u||($.bot.isModuleEnabled("./handlers/panelHandler.js")?(u=!0,$.inidb.set("panelstats","enabled","true"),r(),setInterval(function(){r()},6e4)):$.inidb.set("panelstats","enabled","false"))}),$.getPlayTime=d,$.panelDB={updateChatLinesDB:a,updateModLinesDB:i}}();
