(function(){function getTop5(iniName){var keys=$.inidb.GetKeyList(iniName,""),list=[],i;for(i in keys){list.push({username:keys[i],value:$.inidb.get(iniName,keys[i])})}list.sort(function(a,b){return b.value-a.value});return list.splice(0,5)}$.bind("command",function(event){var command=event.getCommand(),top5=[],c=1,temp,i;if(command.equalsIgnoreCase("top5")){if(!$.bot.isModuleEnabled("./systems/pointSystem.js")){$.say($.lang.get("top5.points-disabled"));return}temp=getTop5("points");for(i in temp){top5.push(c+". "+$.resolveRank(temp[i].username)+" "+$.getPointsString(temp[i].value));c++}$.say($.lang.get("top5.default",$.pointNameMultiple,top5.join(", ")))}if(command.equalsIgnoreCase("top5time")){temp=getTop5("time");for(i in temp){top5.push(c+". "+$.resolveRank(temp[i].username)+" "+$.getTimeString(temp[i].value,true));c++}$.say($.lang.get("top5.default","time",top5.join(", ")))}});$.bind("initReady",function(){if($.bot.isModuleEnabled("./commands/topCommand.js")){$.registerChatCommand("./commands/topCommand.js","top5",7);$.registerChatCommand("./commands/topCommand.js","top5time",7)}})})();
