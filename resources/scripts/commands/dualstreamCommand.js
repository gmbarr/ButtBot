!function(){var e=$.inidb.exists("dualStreamCommand","otherChannels")?$.inidb.get("dualStreamCommand","otherChannels"):null,a=$.inidb.exists("dualStreamCommand","timerToggle")?$.inidb.get("dualStreamCommand","timerToggle"):!1,r=parseInt($.inidb.exists("dualStreamCommand","timerInterval"))?parseInt($.inidb.get("dualStreamCommand","timerInterval")):5;$.bind("command",function(i){var m=i.getSender(),n=i.getCommand(),t=i.getArgs(),s=i.getArguments().trim(),d=t[0],l=t[1];if(n.equalsIgnoreCase("multi")){if(!d){if(null!=e)return void $.say("http://multistre.am/"+$.username.resolve($.channelName)+e);if($.isModv3(m,i.getTags()))return void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.usage"))}if(d.equalsIgnoreCase("set"))return $.isModv3(m,i.getTags())?l?(s=s.replace("set",""),s=s.replace(" ","/"),e=s,$.inidb.set("dualStreamCommand","otherChannels",e),void $.say($.lang.get("dualstreamcommand.link.set",$.username.resolve($.channelName)+e))):void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.set.usage")):void $.say($.whisperPrefix(m)+$.modMsg);if(d.equalsIgnoreCase("clear"))return $.isModv3(m,i.getTags())?(e=null,a=!1,$.inidb.del("dualStreamCommand","otherChannels"),$.inidb.set("dualStreamCommand","timerToggle",a),void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.clear"))):void $.say($.whisperPrefix(m)+$.modMsg);if(d.equalsIgnoreCase("timer"))return $.isModv3(m,i.getTags())?l?l.equalsIgnoreCase("on")?(a=!0,$.inidb.set("dualStreamCommand","timerToggle",a),void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.timer.enabled"))):l.equalsIgnoreCase("off")?(a=!1,$.inidb.set("dualStreamCommand","timerToggle",a),void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.timer.disabled"))):void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.timer.usage")):void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.timer.usage")):void $.say($.whisperPrefix(m)+$.modMsg);if(d.equalsIgnoreCase("timerinterval"))return $.isModv3(m,i.getTags())?l?parseInt(l)<5?void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.timerinterval.err")):(r=parseInt(l),$.inidb.set("dualStreamCommand","timerInterval",r),void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.timerinterval.set"))):void $.say($.whisperPrefix(m)+$.lang.get("dualstreamcommand.timerinterval.usage")):void $.say($.whisperPrefix(m)+$.modMsg)}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./commands/dualstreamCommand.js")&&($.registerChatCommand("./commands/dualstreamCommand.js","multi",7),setInterval(function(){return null!=e&&a?void $.say($.lang.get("dualstreamcommand.link")+$.username.resolve($.channelName)+e):void 0},60*r*1e3))})}();
