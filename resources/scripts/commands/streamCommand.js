!function(){$.bind("command",function(e){var a=e.getSender().toLowerCase(),n=e.getCommand(),m=e.getArguments().trim(),s=e.getArgs();if(n.equalsIgnoreCase("online")&&($.isOnline($.channelName)?$.say($.whisperPrefix(a)+"Stream is online!"):$.say($.whisperPrefix(a)+"Stream is offline.")),n.equalsIgnoreCase("viewers")&&$.say($.whisperPrefix(a)+"Currently "+$.getViewers($.channelName)+" viewers are watching "+$.username.resolve($.channelName)+"!"),n.equalsIgnoreCase("game"))if(0==s.length)$.isOnline($.channelName)?$.say("Current Game: "+$.getGame($.channelName)+", Playtime: "+$.getPlayTime()):$.say("Current Game: "+$.getGame($.channelName));else{if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);$.updateGame($.channelName,m,a)}if(n.equalsIgnoreCase("title"))if(0==s.length)$.say("Current Status: "+$.getStatus($.channelName));else{if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);$.updateStatus($.channelName,m,a)}if(n.equalsIgnoreCase("playtime")){if(!$.isOnline($.channelName))return void $.say($.whisperPrefix(a)+$.channelName+" is currently offline.");$.say("@"+$.username.resolve(a)+", "+$.username.resolve($.channelName)+" has been playing "+$.getGame($.channelName)+" for "+$.getPlayTime()+"!")}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./commands/streamCommand.js")&&($.registerChatCommand("./commands/streamCommand.js","online"),$.registerChatCommand("./commands/streamCommand.js","viewers"),$.registerChatCommand("./commands/streamCommand.js","game"),$.registerChatCommand("./commands/streamCommand.js","title"),$.registerChatCommand("./commands/streamCommand.js","playtime"))})}();
