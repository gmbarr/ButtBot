!function(){function e(){var e=$.inidb.GetKeyList("blackList","");for(u in e)f.push($.inidb.get("blackList",e[u]))}function s(){var e=$.inidb.GetKeyList("whiteList","");for(u in e)b.push($.inidb.get("whiteList",e[u]))}function r(e,s){$.say(".timeout "+e+" "+s),setTimeout(function(){$.say(".timeout "+e+" "+s)},1e3)}function a(e){for(u in h)if(h[u].user.equalsIgnoreCase(e)){var s=h[u].time-$.systemTime();return void(s>0?(r(e,W),h.splice(u,1),h.push({user:e,time:Q}),t(e,W),J=$.lang.get("chatmoderator.timeout")):(r(e,H),h.splice(u,1),h.push({user:e,time:Q}),t(e,H),J=$.lang.get("chatmoderator.warning")))}r(e,H),h.push({user:e,time:Q}),t(e,H),J=$.lang.get("chatmoderator.warning")}function t(e,s){$.logChatModEvent("chatModerator.js",e+" was timed out for "+s+" seconds."),$.bot.isModuleEnabled("./handlers/panelHandler.js")&&$.panelDB.updateModLinesDB()}function o(e,s){X=V-$.systemTime(),0>=X&&$.say("@"+$.username.resolve(e)+", "+s+" "+J),V=1e3*z+$.systemTime()}function i(e){c.push(e);var s=setTimeout(function(){for(u in c)if(c[u].equalsIgnoreCase(e)){c.splice(u,1);break}clearTimeout(s)},1e3*y)}function n(e){return e?$.lang.get("common.enabled"):$.lang.get("common.disabled")}function g(e){return e?"not allowed":"allowed"}function l(e){var s=e.getSender(),r=e.getMessage().toLowerCase();for(u in f)if(r.contains(f[u].toLowerCase()))return timeoutUser(s,W),J=$.lang.get("chatmoderator.timeout"),o(s,K),!0;return!1}function d(e){var s=e.getSender();e.getMessage().toLowerCase();for(u in c)if(c[u].equalsIgnoreCase(s)&&$.patternDetector.hasLinks(e))return c.splice(u,1),!0;return!1}function m(e){var s=(e.getSender(),e.getMessage().toLowerCase());for(u in b)if(s.contains(b[u]))return!0;return!1}var u,c=[],h=[],b=[],f=[],p=$.inidb.exists("chatModerator","linksToggle")?$.getIniDbBoolean("chatModerator","linksToggle"):!0,M=$.inidb.exists("chatModerator","linksMessage")?$.inidb.get("chatModerator","linksMessage"):"you were timed out for linking",y=$.inidb.exists("chatModerator","linkPermitTime")?parseInt($.inidb.get("chatModerator","linkPermitTime")):120,w=$.inidb.exists("chatModerator","capsToggle")?$.getIniDbBoolean("chatModerator","capsToggle"):!0,C=$.inidb.exists("chatModerator","capsMessage")?$.inidb.get("chatModerator","capsMessage"):"you were timed out for overusing caps",x=$.inidb.exists("chatModerator","capsLimitPercent")?parseFloat($.inidb.get("chatModerator","capsLimitPercent")):50,I=$.inidb.exists("chatModerator","capsTriggerLength")?parseInt($.inidb.get("chatModerator","capsTriggerLength")):15,P=$.inidb.exists("chatModerator","spamToggle")?$.getIniDbBoolean("chatModerator","spamToggle"):!0,v=$.inidb.exists("chatModerator","spamMessage")?$.inidb.get("chatModerator","spamMessage"):"you were timed out for spamming repeating characters",q=$.inidb.exists("chatModerator","spamLimit")?parseInt($.inidb.get("chatModerator","spamLimit")):15,L=$.inidb.exists("chatModerator","symbolsToggle")?$.getIniDbBoolean("chatModerator","symbolsToggle"):!0,k=$.inidb.exists("chatModerator","symbolsMessage")?$.inidb.get("chatModerator","symbolsMessage"):"you were timed out for overusing symbols",T=$.inidb.exists("chatModerator","symbolsLimitPercent")?parseFloat($.inidb.get("chatModerator","symbolsLimitPercent")):50,S=$.inidb.exists("chatModerator","symbolsGroupLimit")?parseFloat($.inidb.get("chatModerator","symbolsGroupLimit")):10,D=$.inidb.exists("chatModerator","symbolsTriggerLength")?parseInt($.inidb.get("chatModerator","symbolsTriggerLength")):15,E=$.inidb.exists("chatModerator","emotesToggle")?$.getIniDbBoolean("chatModerator","emotesToggle"):!1,B=$.inidb.exists("chatModerator","emotesMessage")?$.inidb.get("chatModerator","emotesMessage"):"you were timed out for overusing emotes",_=$.inidb.exists("chatModerator","emotesLimit")?parseInt($.inidb.get("chatModerator","emotesLimit")):15,R=$.inidb.exists("chatModerator","longMessageToggle")?$.getIniDbBoolean("chatModerator","longMessageToggle"):!0,j=$.inidb.exists("chatModerator","longMessageMessage")?$.inidb.get("chatModerator","longMessageMessage"):"you were timed out for posting a long message",F=$.inidb.exists("chatModerator","longMessageLimit")?parseInt($.inidb.get("chatModerator","longMessageLimit")):300,A=$.inidb.exists("chatModerator","colorsToggle")?$.getIniDbBoolean("chatModerator","colorsToggle"):!0,N=$.inidb.exists("chatModerator","colorsMessage")?$.inidb.get("chatModerator","colorsMessage"):"you were timed out for using /me.",G={Links:$.inidb.exists("chatModerator","subscribersModerateLinks")?$.getIniDbBoolean("chatModerator","subscribersModerateLinks"):!0,Caps:$.inidb.exists("chatModerator","subscribersModerateCaps")?$.getIniDbBoolean("chatModerator","subscribersModerateCaps"):!0,Symbols:$.inidb.exists("chatModerator","subscribersModerateSymbols")?$.getIniDbBoolean("chatModerator","subscribersModerateSymbols"):!0,Spam:$.inidb.exists("chatModerator","subscribersModerateSpam")?$.getIniDbBoolean("chatModerator","subscribersModerateSpam"):!0,Emotes:$.inidb.exists("chatModerator","subscribersModerateEmotes")?$.getIniDbBoolean("chatModerator","subscribersModerateEmotes"):!0,Colors:$.inidb.exists("chatModerator","subscribersModerateColors")?$.getIniDbBoolean("chatModerator","subscribersModerateColors"):!0,LongMsg:$.inidb.exists("chatModerator","subscribersModerateLongMsg")?$.getIniDbBoolean("chatModerator","subscribersModerateLongMsg"):!0},O={Links:$.inidb.exists("chatModerator","regularsModerateLinks")?$.getIniDbBoolean("chatModerator","regularsModerateLinks"):!0,Caps:$.inidb.exists("chatModerator","regularsModerateCaps")?$.getIniDbBoolean("chatModerator","regularsModerateCaps"):!0,Symbols:$.inidb.exists("chatModerator","regularsModerateSymbols")?$.getIniDbBoolean("chatModerator","regularsModerateSymbols"):!0,Spam:$.inidb.exists("chatModerator","regularsModerateSpam")?$.getIniDbBoolean("chatModerator","regularsModerateSpam"):!0,Emotes:$.inidb.exists("chatModerator","regularsModerateEmotes")?$.getIniDbBoolean("chatModerator","regularsModerateEmotes"):!0,Colors:$.inidb.exists("chatModerator","regularsModerateColors")?$.getIniDbBoolean("chatModerator","regularsModerateColors"):!0,LongMsg:$.inidb.exists("chatModerator","regularsModerateLongMsg")?$.getIniDbBoolean("chatModerator","regularsModerateLongMsg"):!0},U={Links:$.inidb.exists("chatModerator","silentTimeoutLinks")?$.getIniDbBoolean("chatModerator","silentTimeoutLinks"):!1,Caps:$.inidb.exists("chatModerator","silentTimeoutCaps")?$.getIniDbBoolean("chatModerator","silentTimeoutCaps"):!1,Symbols:$.inidb.exists("chatModerator","silentTimeoutSymbols")?$.getIniDbBoolean("chatModerator","silentTimeoutSymbols"):!1,Spam:$.inidb.exists("chatModerator","silentTimeoutSpam")?$.getIniDbBoolean("chatModerator","silentTimeoutSpam"):!1,Emotes:$.inidb.exists("chatModerator","silentTimeoutEmotes")?$.getIniDbBoolean("chatModerator","silentTimeoutEmotes"):!1,Colors:$.inidb.exists("chatModerator","silentTimeoutColors")?$.getIniDbBoolean("chatModerator","silentTimeoutColors"):!1,LongMsg:$.inidb.exists("chatModerator","silentTimeoutLongMsg")?$.getIniDbBoolean("chatModerator","silentTimeoutLongMsg"):!1},K=$.inidb.exists("chatModerator","blacklistMessage")?$.inidb.get("chatModerator","blacklistMessage"):"you were timed out using a blacklisted phrase",H=$.inidb.exists("chatModerator","warningTime")?parseInt($.inidb.get("chatModerator","warningTime")):5,W=$.inidb.exists("chatModerator","timeoutTime")?parseInt($.inidb.get("chatModerator","timeoutTime")):600,z=$.inidb.exists("chatModerator","msgCooldownSec")?parseInt($.inidb.get("chatModerator","msgCooldownSec")):20,J="",Q=36e5+$.systemTime(),V=0,X=0;$.bind("ircChannelMessage",function(e){var s=e.getSender(),r=e.getMessage(),t=r.length();if(!$.isModv3(s,e.getTags())){if(r&&l(e))return;if(p&&$.patternDetector.hasLinks(e)){if($.youtubePlayerConnected&&r.contains("youtube.com")||r.contains("youtu.be"))return;if(r&&d(e)||m(e))return;if(!O.Links&&$.isReg(s)||!G.Links&&$.isSubv3(s,e.getTags()))return;return a(s),void(U.Links||o(s,M))}if(w&&t>I){if(!O.Caps&&$.isReg(s)||!G.Caps&&$.isSubv3(s,e.getTags()))return;if(parseFloat($.patternDetector.getNumberOfCaps(e))/t*100>x)return a(s),void(U.Caps||o(s,C))}if(L&&t>D){if(!O.Symbols&&$.isReg(s)||!G.Symbols&&$.isSubv3(s,e.getTags()))return;if($.patternDetector.getLongestNonLetterSequence(e)>S)return a(s),void(U.Symbols||o(s,k));if(parseFloat($.patternDetector.getNumberOfNonLetters(e))/t*100>T)return a(s),void(U.Symbols||o(s,k))}if(P&&$.patternDetector.getLongestRepeatedSequence(e)>q){if(!O.Spam&&$.isReg(s)||!G.Spam&&$.isSubv3(s,e.getTags()))return;return a(s),void(U.Spam||o(s,v))}if(E&&$.patternDetector.getNumberOfEmotes(e)>_){if(!O.Emotes&&$.isReg(s)||!G.Emotes&&$.isSubv3(s,e.getTags()))return;return a(s),void(U.Emotes||o(s,B))}if(A&&r.startsWith("/me")){if(!O.Colors&&$.isReg(s)||!G.Colors&&$.isSubv3(s,e.getTags()))return;return a(s),void(U.Colors||o(s,N))}if(R&&t>F){if(!O.LongMsg&&$.isReg(s)||!G.LongMsg&&$.isSubv3(s,e.getTags()))return;a(s),U.LongMsg||o(s,j)}}}),$.bind("command",function(r){var a=r.getSender(),t=r.getCommand(),o=r.getArguments(),l=r.getArgs(),d=l[0],m=l[1];if(t.equalsIgnoreCase("permit"))return $.isModv3(a,r.getTags())?d?(i(d),void $.say($.username.resolve(d)+$.lang.get("chatmoderator.permited",y))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.permit.usage")):void $.say($.whisperPrefix(a)+$.modMsg);if(t.equalsIgnoreCase("blacklist")){if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);if(!d)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.usage"));if(d.equalsIgnoreCase("add")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.add.usage"));var u=o.replace(d,"").trim().toLowerCase();$.inidb.set("blackList","phrase_"+f.length,u),f.push(u),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.added"))}if(d.equalsIgnoreCase("remove")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.remove.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.inidb.del("blackList","phrase_"+parseInt(m)),e(),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.removed"))}if(d.equalsIgnoreCase("show")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.show.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(a)+$.inidb.get("blackList","phrase_"+parseInt(m)))}}if(t.equalsIgnoreCase("whiteList")){if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);if(!d)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.usage"));if(d.equalsIgnoreCase("add")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.add.usage"));var c=o.replace(d,"").trim().toLowerCase();$.inidb.set("whiteList","link_"+b.length,c),b.push(c),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.link.added"))}if(d.equalsIgnoreCase("remove")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.remove.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.inidb.del("whiteList","link_"+parseInt(m)),s(),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.removed"))}if(d.equalsIgnoreCase("show")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.show.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(a)+$.inidb.get("whiteList","link_"+parseInt(m)))}}if(t.equalsIgnoreCase("moderation")||t.equalsIgnoreCase("mod")){if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);if(!d)return $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.usage.toggles")),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.usage.messages")),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.options"));if(d.equalsIgnoreCase("links")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.usage",n(p)));if(m.equalsIgnoreCase("on"))return p=!0,$.inidb.set("chatModerator","linksToggle",p),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.filter.enabled"));if(m.equalsIgnoreCase("off"))return p=!1,$.inidb.set("chatModerator","linksToggle",p),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.filter.disabled"))}if(d.equalsIgnoreCase("caps")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.usage",n(w)));if(m.equalsIgnoreCase("on"))return w=!0,$.inidb.set("chatModerator","capsToggle",w),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.filter.enabled"));if(m.equalsIgnoreCase("off"))return w=!1,$.inidb.set("chatModerator","capsToggle",w),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.filter.disabled"))}if(d.equalsIgnoreCase("spam")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.usage",n(P)));if(m.equalsIgnoreCase("on"))return P=!0,$.inidb.set("chatModerator","spamToggle",P),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.filter.enabled"));if(m.equalsIgnoreCase("off"))return P=!1,$.inidb.set("chatModerator","spamToggle",P),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.filter.disabled"))}if(d.equalsIgnoreCase("symbols")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.usage",n(L)));if(m.equalsIgnoreCase("on"))return L=!0,$.inidb.set("chatModerator","symbolsToggle",L),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.filter.enabled"));if(m.equalsIgnoreCase("off"))return L=!1,$.inidb.set("chatModerator","symbolsToggle",L),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.filter.disabled"))}if(d.equalsIgnoreCase("emotes")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.usage",n(E)));if(m.equalsIgnoreCase("on"))return E=!0,$.inidb.set("chatModerator","emotesToggle",E),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.filter.enabled"));if(m.equalsIgnoreCase("off"))return E=!1,$.inidb.set("chatModerator","emotesToggle",E),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.filter.disabled"))}if(d.equalsIgnoreCase("colors")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.usage",n(A)));if(m.equalsIgnoreCase("on"))return A=!0,$.inidb.set("chatModerator","colorsToggle",A),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.filter.enabled"));if(m.equalsIgnoreCase("off"))return A=!1,$.inidb.set("chatModerator","colorsToggle",A),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.filter.disabled"))}if(d.equalsIgnoreCase("longmessages")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.usage",n(R)));if(m.equalsIgnoreCase("on"))return R=!0,$.inidb.set("chatModerator","longMessageToggle",R),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.filter.enabled"));if(m.equalsIgnoreCase("off"))return R=!1,$.inidb.set("chatModerator","longMessageToggle",R),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.filter.disabled"))}if(d.equalsIgnoreCase("regulars")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.usage"));if(m.equalsIgnoreCase("links")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.link",g(O.Links)));l[2].equalsIgnoreCase("true")?(O.Links=!0,$.inidb.set("chatModerator","regularsModerateLinks",O.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.links.allowed"))):l[2].equalsIgnoreCase("false")&&(O.Links=!1,$.inidb.set("chatModerator","regularsModerateLinks",O.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.links.not.allowed")))}else if(m.equalsIgnoreCase("caps")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.caps",g(O.Caps)));l[2].equalsIgnoreCase("true")?(O.Caps=!0,$.inidb.set("chatModerator","regularsModerateCaps",O.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.caps.allowed"))):l[2].equalsIgnoreCase("false")&&(O.Caps=!1,$.inidb.set("chatModerator","regularsModerateCaps",O.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.caps.not.allowed")))}else if(m.equalsIgnoreCase("symbols")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.symbols",g(O.Symbols)));l[2].equalsIgnoreCase("true")?(O.Symbols=!0,$.inidb.set("chatModerator","regularsModerateSymbols",O.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.symbols.allowed"))):l[2].equalsIgnoreCase("false")&&(O.Symbols=!1,$.inidb.set("chatModerator","regularsModerateSymbols",O.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.symbols.not.allowed")))}else if(m.equalsIgnoreCase("spam")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.spam",g(O.Spam)));l[2].equalsIgnoreCase("true")?(O.Spam=!0,$.inidb.set("chatModerator","regularsModerateSpam",O.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.spam.allowed"))):l[2].equalsIgnoreCase("false")&&(O.Spam=!1,$.inidb.set("chatModerator","regularsModerateSpam",O.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.spam.not.allowed")))}else if(m.equalsIgnoreCase("emotes")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.emotes",g(O.Emotes)));l[2].equalsIgnoreCase("true")?(O.Emotes=!0,$.inidb.set("chatModerator","regularsModerateEmotes",O.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.emotes.allowed"))):l[2].equalsIgnoreCase("false")&&(O.Emotes=!1,$.inidb.set("chatModerator","regularsModerateEmotes",O.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.emotes.not.allowed")))}else if(m.equalsIgnoreCase("colors")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.colors",g(O.Colors)));l[2].equalsIgnoreCase("true")?(O.Colors=!0,$.inidb.set("chatModerator","regularsModerateColors",O.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.colors.allowed"))):l[2].equalsIgnoreCase("false")&&(O.Colors=!1,$.inidb.set("chatModerator","regularsModerateColors",O.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.colors.not.allowed")))}else if(m.equalsIgnoreCase("longmessages")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.long.msg",g(O.LongMsg)));l[2].equalsIgnoreCase("true")?(O.LongMsg=!0,$.inidb.set("chatModerator","regularsModerateLongMsg",O.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.long.messages.allowed"))):l[2].equalsIgnoreCase("false")&&(O.LongMsg=!1,$.inidb.set("chatModerator","regularsModerateLongMsg",O.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.long.messages.not.allowed")))}}if(d.equalsIgnoreCase("subscribers")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.usage"));if(m.equalsIgnoreCase("links")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.link",g(G.Links)));l[2].equalsIgnoreCase("true")?(G.Links=!0,$.inidb.set("chatModerator","subscribersModerateLinks",G.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.links.allowed"))):l[2].equalsIgnoreCase("false")&&(G.Links=!1,$.inidb.set("chatModerator","subscribersModerateLinks",G.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.links.not.allowed")))}else if(m.equalsIgnoreCase("caps")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.caps",g(G.Caps)));l[2].equalsIgnoreCase("true")?(G.Caps=!0,$.inidb.set("chatModerator","subscribersModerateCaps",G.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.caps.allowed"))):l[2].equalsIgnoreCase("false")&&(G.Caps=!1,$.inidb.set("chatModerator","subscribersModerateCaps",G.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.caps.not.allowed")))}else if(m.equalsIgnoreCase("symbols")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.symbols",g(G.Symbols)));l[2].equalsIgnoreCase("true")?(G.Symbols=!0,$.inidb.set("chatModerator","subscribersModerateSymbols",G.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.symbols.allowed"))):l[2].equalsIgnoreCase("false")&&(G.Symbols=!1,$.inidb.set("chatModerator","subscribersModerateSymbols",G.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.symbols.not.allowed")))}else if(m.equalsIgnoreCase("spam")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.spam",g(G.Spam)));l[2].equalsIgnoreCase("true")?(G.Spam=!0,$.inidb.set("chatModerator","subscribersModerateSpam",G.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.spam.allowed"))):l[2].equalsIgnoreCase("false")&&(G.Spam=!1,$.inidb.set("chatModerator","subscribersModerateSpam",G.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.spam.not.allowed")))}else if(m.equalsIgnoreCase("emotes")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.emotes",g(G.Emotes)));l[2].equalsIgnoreCase("true")?(G.Emotes=!0,$.inidb.set("chatModerator","subscribersModerateEmotes",G.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.emotes.allowed"))):l[2].equalsIgnoreCase("false")&&(G.Emotes=!1,$.inidb.set("chatModerator","subscribersModerateEmotes",G.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.emotes.not.allowed")))}else if(m.equalsIgnoreCase("colors")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.colors",g(G.Colors)));l[2].equalsIgnoreCase("true")?(G.Colors=!0,$.inidb.set("chatModerator","subscribersModerateColors",G.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.colors.allowed"))):l[2].equalsIgnoreCase("false")&&(G.Colors=!1,$.inidb.set("chatModerator","subscribersModerateColors",G.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.colors.not.allowed")))}else if(m.equalsIgnoreCase("longmessages")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.long.msg",g(G.LongMsg)));l[2].equalsIgnoreCase("true")?(G.LongMsg=!0,$.inidb.set("chatModerator","subscribersModerateLongMsg",G.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.long.messages.allowed"))):l[2].equalsIgnoreCase("false")&&(G.LongMsg=!1,$.inidb.set("chatModerator","subscribersModerateLongMsg",G.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.long.messages.not.allowed")))}}if(d.equalsIgnoreCase("silenttimeout")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.usage"));if(m.equalsIgnoreCase("links")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.toggle.links",n(U.Links)));l[2].equalsIgnoreCase("true")?(U.Links=!0,$.inidb.set("chatModerator","silentTimeoutLinks",U.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.links.true"))):l[2].equalsIgnoreCase("false")&&(U.Links=!1,$.inidb.set("chatModerator","silentTimeoutLinks",U.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.links.false")))}else if(m.equalsIgnoreCase("caps")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.toggle.caps",g(U.Caps)));l[2].equalsIgnoreCase("true")?(U.Caps=!0,$.inidb.set("chatModerator","silentTimeoutCaps",U.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.caps.true"))):l[2].equalsIgnoreCase("false")&&(U.Caps=!1,$.inidb.set("chatModerator","silentTimeoutCaps",U.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.caps.false")))}else if(m.equalsIgnoreCase("symbols")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.toggle.symbols",g(U.Symbols)));l[2].equalsIgnoreCase("true")?(U.Symbols=!0,$.inidb.set("chatModerator","silentTimeoutSymbols",U.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.symbols.true"))):l[2].equalsIgnoreCase("false")&&(U.Symbols=!1,$.inidb.set("chatModerator","silentTimeoutSymbols",U.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.symbols.false")))}else if(m.equalsIgnoreCase("spam")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.toggle.spam",g(U.Spam)));l[2].equalsIgnoreCase("true")?(U.Spam=!0,$.inidb.set("chatModerator","silentTimeoutSpam",U.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.spam.true"))):l[2].equalsIgnoreCase("false")&&(U.Spam=!1,$.inidb.set("chatModerator","silentTimeoutSpam",U.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.spam.false")))}else if(m.equalsIgnoreCase("emotes")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.toggle.emotes",g(U.Emotes)));l[2].equalsIgnoreCase("true")?(U.Emotes=!0,$.inidb.set("chatModerator","silentTimeoutEmotes",U.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.emotes.true"))):l[2].equalsIgnoreCase("false")&&(U.Emotes=!1,$.inidb.set("chatModerator","silentTimeoutEmotes",U.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.emotes.false")))}else if(m.equalsIgnoreCase("colors")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.toggle.colors",g(U.Colors)));l[2].equalsIgnoreCase("true")?(U.Colors=!0,$.inidb.set("chatModerator","silentTimeoutColors",U.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.colors.true"))):l[2].equalsIgnoreCase("false")&&(U.Colors=!1,$.inidb.set("chatModerator","silentTimeoutColors",U.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.colors.false")))}else if(m.equalsIgnoreCase("longmessages")){if(!l[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.toggle.long.msg",g(U.LongMsg)));l[2].equalsIgnoreCase("true")?(U.LongMsg=!0,$.inidb.set("chatModerator","silentTimeoutLongMsg",U.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.long.messages.true"))):l[2].equalsIgnoreCase("false")&&(U.LongMsg=!1,$.inidb.set("chatModerator","silentTimeoutLongMsg",U.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.silenttimeout.long.messages.false")))}}if(d.equalsIgnoreCase("linksmessage"))return m?(M=o.replace(d,"").trim(),$.inidb.set("chatModerator","linksMessage",M),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.message.set",M))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.message.usage"));if(d.equalsIgnoreCase("capsmessage"))return m?(C=o.replace(d,"").trim(),$.inidb.set("chatModerator","capsMessage",C),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.message.set",C))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.message.usage"));if(d.equalsIgnoreCase("symbolsmessage"))return m?(k=o.replace(d,"").trim(),$.inidb.set("chatModerator","symbolsMessage",k),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.message.set",k))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.message.usage"));if(d.equalsIgnoreCase("emotesmessage"))return m?(B=o.replace(d,"").trim(),$.inidb.set("chatModerator","emotesMessage",B),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.message.set",B))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.message.usage"));if(d.equalsIgnoreCase("colorsmessage"))return m?(N=o.replace(d,"").trim(),$.inidb.set("chatModerator","colorsMessage",N),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.message.set",N))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.message.usage"));if(d.equalsIgnoreCase("longmsgmessage"))return m?(j=o.replace(d,"").trim(),$.inidb.set("chatModerator","longMessageMessage",j),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.message.set",j))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.message.usage"));if(d.equalsIgnoreCase("spammessage"))return m?(v=o.replace(d,"").trim(),$.inidb.set("chatModerator","spamMessage",v),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.message.set",v))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.message.usage"));if(d.equalsIgnoreCase("blacklistmessage"))return m?(K=o.replace(d,"").trim(),$.inidb.set("chatModerator","blacklistMessage",K),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.message.set",K))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.message.usage"));if(d.equalsIgnoreCase("permittime"))return m?(y=parseInt(m),$.inidb.set("chatModerator","linkPermitTime",y),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.permit.time.set",y))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.permit.time.usage"));if(d.equalsIgnoreCase("capslimit"))return m?(x=parseFloat(m),$.inidb.set("chatModerator","capsLimitPercent",x),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.limit.set",x))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.limit.usage"));if(d.equalsIgnoreCase("capstriggerlength"))return m?(I=parseInt(m),$.inidb.set("chatModerator","capsTriggerLength",I),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.trigger.length.set",capsLimit))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.trigger.length.usage"));if(d.equalsIgnoreCase("spamlimit"))return m?(q=parseInt(m),$.inidb.set("chatModerator","spamLimit",q),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.limit.set",q))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.limit.usage"));if(d.equalsIgnoreCase("symbolslimit"))return m?(T=parseFloat(m),$.inidb.set("chatModerator","symbolsLimitPercent",T),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.limit.set",T))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.limit.usage"));if(d.equalsIgnoreCase("symbolsgrouplimit"))return m?(S=parseInt(m),$.inidb.set("chatModerator","symbolsLimitPercent",S),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.group.limit.set",S))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.group.limit.usage"));if(d.equalsIgnoreCase("symbolsTriggerLength"))return m?(D=parseInt(m),$.inidb.set("chatModerator","symbolsTriggerLength",D),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.trigger.length.set",D))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.trigger.length.usage"));if(d.equalsIgnoreCase("emoteslimit"))return m?(_=parseInt(m),$.inidb.set("chatModerator","emotesLimit",_),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.limit.set",_))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.limit.usage"));if(d.equalsIgnoreCase("messagecharacterlimit"))return m?(F=parseInt(m),$.inidb.set("chatModerator","longMessageLimit",F),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.limit.set",F))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.limit.usage"));if(d.equalsIgnoreCase("timeouttime"))return m?(W=parseInt(m),$.inidb.set("chatModerator","timeoutTime",W),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.timeout.time.set",W))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.timeout.time.usage"));if(d.equalsIgnoreCase("warningtime"))return m?(H=parseInt(m),$.inidb.set("chatModerator","warningTime",H),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.warning.time.set",H))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.warning.time.usage"));if(d.equalsIgnoreCase("messagecooldown"))return m?(z=parseInt(m),
$.inidb.set("chatModerator","msgCooldownSec",z),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.msgcooldown.set",z))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.msgcooldown.usage"))}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./core/chatmoderator.js")&&(s(),e(),$.registerChatCommand("./core/chatmoderator.js","permit",2),$.registerChatCommand("./core/chatmoderator.js","moderation",1),$.registerChatCommand("./core/chatmoderator.js","mod",1),$.registerChatCommand("./core/chatmoderator.js","blacklist",1),$.registerChatCommand("./core/chatmoderator.js","whitelist",1))}),$.timeoutUser=r,$.permitUserLink=i}();
