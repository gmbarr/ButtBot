!function(){function e(){var e=$.inidb.GetKeyList("blackList","");for(h in e)M.push($.inidb.get("blackList",e[h]));$.consoleDebug("blacklist loaded")}function r(){var e=$.inidb.GetKeyList("whiteList","");for(h in e)p.push($.inidb.get("whiteList",e[h]));$.consoleDebug("whitelist loaded")}function s(e,r){$.say(".timeout "+e+" "+r),setTimeout(function(){$.say(".timeout "+e+" "+r)},1e3)}function a(e){for(h in b)if(b[h].equalsIgnoreCase(e))return s(e,H),o(e),void(Q=$.lang.get("chatmoderator.timeout"));s(e,z),o(e),Q=$.lang.get("chatmoderator.warning")}function t(e,r){f.length<=1&&$.say("@"+$.username.resolve(e)+", "+r+" "+Q)}function o(e){b.push(e),i(e),J>0&&f.push($.systemTime())}function i(e){if(J>0)var r=setTimeout(function(){f.splice(0),clearTimeout(r)},1e3*J);var s=setTimeout(function(){for(h in b)if(b[h].equalsIgnoreCase(e)){b.splice(h,0);break}clearTimeout(s)},36e5)}function g(e){u.push(e);var r=setTimeout(function(){for(h in u)if(u[h].equalsIgnoreCase(e)){u.splice(h,1);break}clearTimeout(r)},1e3*x)}function n(e){return e?$.lang.get("common.enabled"):$.lang.get("common.disabled")}function l(e){return e?"not allowed":"allowed"}function d(e){var r=e.getSender(),a=e.getMessage().toLowerCase();for(h in M)if(a.contains(M[h].toLowerCase()))return s(r,H),Q=$.lang.get("chatmoderator.timeout"),t(r,W),!0;return!1}function m(e){var r=e.getSender();e.getMessage().toLowerCase();for(h in u)if(u[h].equalsIgnoreCase(r)&&$.patternDetector.hasLinks(e))return u.splice(h,1),!0;return!1}function c(e){var r=(e.getSender(),e.getMessage().toLowerCase());for(h in p)if(r.contains(p[h]))return!0;return!1}var h,u=[],b=[],f=[],p=[],M=[],y=$.inidb.exists("chatModerator","linksToggle")?$.getIniDbBoolean("chatModerator","linksToggle"):!0,w=$.inidb.exists("chatModerator","linksMessage")?$.inidb.get("chatModerator","linksMessage"):"you were timed out for linking",x=$.inidb.exists("chatModerator","linkPermitTime")?parseInt($.inidb.get("chatModerator","linkPermitTime")):120,C=$.inidb.exists("chatModerator","capsToggle")?$.getIniDbBoolean("chatModerator","capsToggle"):!0,I=$.inidb.exists("chatModerator","capsMessage")?$.inidb.get("chatModerator","capsMessage"):"you were timed out for overusing caps",P=$.inidb.exists("chatModerator","capsLimitPercent")?parseFloat($.inidb.get("chatModerator","capsLimitPercent")):50,v=$.inidb.exists("chatModerator","capsTriggerLength")?parseInt($.inidb.get("chatModerator","capsTriggerLength")):15,q=$.inidb.exists("chatModerator","spamToggle")?$.getIniDbBoolean("chatModerator","spamToggle"):!0,L=$.inidb.exists("chatModerator","spamMessage")?$.inidb.get("chatModerator","spamMessage"):"you were timed out for spamming",k=$.inidb.exists("chatModerator","spamLimit")?parseInt($.inidb.get("chatModerator","spamLimit")):15,S=$.inidb.exists("chatModerator","symbolsToggle")?$.getIniDbBoolean("chatModerator","symbolsToggle"):!0,T=$.inidb.exists("chatModerator","symbolsMessage")?$.inidb.get("chatModerator","symbolsMessage"):"you were timed out for overusing symbols",D=$.inidb.exists("chatModerator","symbolsLimitPercent")?parseFloat($.inidb.get("chatModerator","symbolsLimitPercent")):50,E=$.inidb.exists("chatModerator","symbolsGroupLimit")?parseFloat($.inidb.get("chatModerator","symbolsGroupLimit")):10,B=$.inidb.exists("chatModerator","symbolsTriggerLength")?parseInt($.inidb.get("chatModerator","symbolsTriggerLength")):15,_=$.inidb.exists("chatModerator","emotesToggle")?$.getIniDbBoolean("chatModerator","emotesToggle"):!1,R=$.inidb.exists("chatModerator","emotesMessage")?$.inidb.get("chatModerator","emotesMessage"):"you were timed out for overusing emotes",F=$.inidb.exists("chatModerator","emotesLimit")?parseInt($.inidb.get("chatModerator","emotesLimit")):15,j=$.inidb.exists("chatModerator","longMessageToggle")?$.getIniDbBoolean("chatModerator","longMessageToggle"):!0,A=$.inidb.exists("chatModerator","longMessageMessage")?$.inidb.get("chatModerator","longMessageMessage"):"you were timed out for posting a long message",N=$.inidb.exists("chatModerator","longMessageLimit")?parseInt($.inidb.get("chatModerator","longMessageLimit")):300,G=$.inidb.exists("chatModerator","colorsToggle")?$.getIniDbBoolean("chatModerator","colorsToggle"):!0,O=$.inidb.exists("chatModerator","colorsMessage")?$.inidb.get("chatModerator","colorsMessage"):"you were timed out for using /me for colored text.",K={Links:$.inidb.exists("chatModerator","subscribersModerateLinks")?$.getIniDbBoolean("chatModerator","subscribersModerateLinks"):!0,Caps:$.inidb.exists("chatModerator","subscribersModerateCaps")?$.getIniDbBoolean("chatModerator","subscribersModerateCaps"):!0,Symbols:$.inidb.exists("chatModerator","subscribersModerateSymbols")?$.getIniDbBoolean("chatModerator","subscribersModerateSymbols"):!0,Spam:$.inidb.exists("chatModerator","subscribersModerateSpam")?$.getIniDbBoolean("chatModerator","subscribersModerateSpam"):!0,Emotes:$.inidb.exists("chatModerator","subscribersModerateEmotes")?$.getIniDbBoolean("chatModerator","subscribersModerateEmotes"):!0,Colors:$.inidb.exists("chatModerator","subscribersModerateColors")?$.getIniDbBoolean("chatModerator","subscribersModerateColors"):!0,LongMsg:$.inidb.exists("chatModerator","subscribersModerateLongMsg")?$.getIniDbBoolean("chatModerator","subscribersModerateLongMsg"):!0},U={Links:$.inidb.exists("chatModerator","regularsModerateLinks")?$.getIniDbBoolean("chatModerator","regularsModerateLinks"):!0,Caps:$.inidb.exists("chatModerator","regularsModerateCaps")?$.getIniDbBoolean("chatModerator","regularsModerateCaps"):!0,Symbols:$.inidb.exists("chatModerator","regularsModerateSymbols")?$.getIniDbBoolean("chatModerator","regularsModerateSymbols"):!0,Spam:$.inidb.exists("chatModerator","regularsModerateSpam")?$.getIniDbBoolean("chatModerator","regularsModerateSpam"):!0,Emotes:$.inidb.exists("chatModerator","regularsModerateEmotes")?$.getIniDbBoolean("chatModerator","regularsModerateEmotes"):!0,Colors:$.inidb.exists("chatModerator","regularsModerateColors")?$.getIniDbBoolean("chatModerator","regularsModerateColors"):!0,LongMsg:$.inidb.exists("chatModerator","regularsModerateLongMsg")?$.getIniDbBoolean("chatModerator","regularsModerateLongMsg"):!0},W=$.inidb.exists("chatModerator","blacklistMessage")?$.inidb.get("chatModerator","blacklistMessage"):"you were timed out using a blacklisted phrase",z=$.inidb.exists("chatModerator","warningTime")?parseInt($.inidb.get("chatModerator","warningTime")):5,H=$.inidb.exists("chatModerator","timeoutTime")?parseInt($.inidb.get("chatModerator","timeoutTime")):600,J=$.inidb.exists("chatModerator","msgCooldownSec")?parseInt($.inidb.get("chatModerator","msgCooldownSec")):20,Q="";$.bind("ircChannelMessage",function(e){var r=e.getSender(),s=e.getMessage(),o=s.length();if(!$.isModv3(r,e.getTags())){if(s&&d(e))return;if(y&&$.patternDetector.hasLinks(e)){if($.youtubePlayerConnected&&s.contains("youtube.com")||s.contains("youtu.be"))return;if(s&&m(e)||c(e))return;if(!U.Links&&$.isReg(r)||!K.Links&&$.isSubv3(r,e.getTags()))return;return a(r),void t(r,w)}if(C&&o>v){if(!U.Caps&&$.isReg(r)||!K.Caps&&$.isSubv3(r,e.getTags()))return;if(parseFloat($.patternDetector.getNumberOfCaps(e))/o*100>P)return a(r),void t(r,I)}if(S&&o>B){if(!U.Symbols&&$.isReg(r)||!K.Symbols&&$.isSubv3(r,e.getTags()))return;if($.patternDetector.getLongestNonLetterSequence(e)>E)return a(r),void t(r,T);if(parseFloat($.patternDetector.getNumberOfNonLetters(e))/o*100>D)return a(r),void t(r,T)}if(q&&$.patternDetector.getLongestRepeatedSequence(e)>k){if(!U.Spam&&$.isReg(r)||!K.Spam&&$.isSubv3(r,e.getTags()))return;return a(r),void t(r,L)}if(_&&$.patternDetector.getNumberOfEmotes(e)>F){if(!U.Emotes&&$.isReg(r)||!K.Emotes&&$.isSubv3(r,e.getTags()))return;return a(r),void t(r,R)}if(G&&s.startsWith("/me")){if(!U.Colors&&$.isReg(r)||!K.Colors&&$.isSubv3(r,e.getTags()))return;return a(r),void t(r,O)}if(j&&o>N){if(!U.LongMsg&&$.isReg(r)||!K.LongMsg&&$.isSubv3(r,e.getTags()))return;a(r),t(r,A)}}}),$.bind("command",function(s){var a=s.getSender(),t=s.getCommand(),o=s.getArguments(),i=s.getArgs(),d=i[0],m=i[1];if(t.equalsIgnoreCase("permit"))return $.isModv3(a,s.getTags())?d?(g(d),void $.say($.username.resolve(d)+$.lang.get("chatmoderator.permited",x))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.permit.usage")):void $.say($.whisperPrefix(a)+$.modMsg);if(t.equalsIgnoreCase("blacklist")){if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);if(!d)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.usage"));if(d.equalsIgnoreCase("add")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.add.usage"));var c=o.replace(d,"").trim().toLowerCase();$.inidb.set("blackList","phrase_"+M.length,c),M.push(c),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.added"))}if(d.equalsIgnoreCase("remove")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.remove.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.inidb.del("blackList","phrase_"+parseInt(m)),e(),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.removed"))}if(d.equalsIgnoreCase("show")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.show.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(a)+$.inidb.get("blackList","phrase_"+parseInt(m)))}}if(t.equalsIgnoreCase("whiteList")){if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);if(!d)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.usage"));if(d.equalsIgnoreCase("add")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.add.usage"));var h=o.replace(d,"").trim().toLowerCase();$.inidb.set("whiteList","link_"+p.length,h),p.push(h),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.link.added"))}if(d.equalsIgnoreCase("remove")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.remove.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.inidb.del("whiteList","link_"+parseInt(m)),r(),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.removed"))}if(d.equalsIgnoreCase("show")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.whitelist.show.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(m)))return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(a)+$.inidb.get("whiteList","link_"+parseInt(m)))}}if(t.equalsIgnoreCase("moderation")||t.equalsIgnoreCase("mod")){if(!$.isAdmin(a))return void $.say($.whisperPrefix(a)+$.adminMsg);if(!d)return $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.usage.toggles")),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.usage.messages")),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.options"));if(d.equalsIgnoreCase("links")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.usage",n(y)));if(m.equalsIgnoreCase("on"))return y=!0,$.inidb.set("chatModerator","linksToggle",y),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.filter.enabled"));if(m.equalsIgnoreCase("off"))return y=!1,$.inidb.set("chatModerator","linksToggle",y),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.filter.disabled"))}if(d.equalsIgnoreCase("caps")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.usage",n(C)));if(m.equalsIgnoreCase("on"))return C=!0,$.inidb.set("chatModerator","capsToggle",C),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.filter.enabled"));if(m.equalsIgnoreCase("off"))return C=!1,$.inidb.set("chatModerator","capsToggle",C),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.filter.disabled"))}if(d.equalsIgnoreCase("spam")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.usage",n(q)));if(m.equalsIgnoreCase("on"))return q=!0,$.inidb.set("chatModerator","spamToggle",q),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.filter.enabled"));if(m.equalsIgnoreCase("off"))return q=!1,$.inidb.set("chatModerator","spamToggle",q),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.filter.disabled"))}if(d.equalsIgnoreCase("symbols")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.usage",n(S)));if(m.equalsIgnoreCase("on"))return S=!0,$.inidb.set("chatModerator","symbolsToggle",S),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.filter.enabled"));if(m.equalsIgnoreCase("off"))return S=!1,$.inidb.set("chatModerator","symbolsToggle",S),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.filter.disabled"))}if(d.equalsIgnoreCase("emotes")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.usage",n(_)));if(m.equalsIgnoreCase("on"))return _=!0,$.inidb.set("chatModerator","emotesToggle",_),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.filter.enabled"));if(m.equalsIgnoreCase("off"))return _=!1,$.inidb.set("chatModerator","emotesToggle",_),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.filter.disabled"))}if(d.equalsIgnoreCase("colors")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.usage",n(G)));if(m.equalsIgnoreCase("on"))return G=!0,$.inidb.set("chatModerator","colorsToggle",G),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.filter.enabled"));if(m.equalsIgnoreCase("off"))return G=!1,$.inidb.set("chatModerator","colorsToggle",G),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.filter.disabled"))}if(d.equalsIgnoreCase("longmessages")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.usage",n(j)));if(m.equalsIgnoreCase("on"))return j=!0,$.inidb.set("chatModerator","longMessageToggle",j),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.filter.enabled"));if(m.equalsIgnoreCase("off"))return j=!1,$.inidb.set("chatModerator","longMessageToggle",j),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.filter.disabled"))}if(d.equalsIgnoreCase("regulars")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.usage"));if(m.equalsIgnoreCase("links")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.link",l(U.Links)));i[2].equalsIgnoreCase("true")?(U.Links=!0,$.inidb.set("chatModerator","regularsModerateLinks",U.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.links.allowed"))):i[2].equalsIgnoreCase("false")&&(U.Links=!1,$.inidb.set("chatModerator","regularsModerateLinks",U.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.links.not.allowed")))}else if(m.equalsIgnoreCase("caps")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.caps",l(U.Caps)));i[2].equalsIgnoreCase("true")?(U.Caps=!0,$.inidb.set("chatModerator","regularsModerateCaps",U.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.caps.allowed"))):i[2].equalsIgnoreCase("false")&&(U.Caps=!1,$.inidb.set("chatModerator","regularsModerateCaps",U.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.caps.not.allowed")))}else if(m.equalsIgnoreCase("symbols")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.symbols",l(U.Symbols)));i[2].equalsIgnoreCase("true")?(U.Symbols=!0,$.inidb.set("chatModerator","regularsModerateSymbols",U.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.symbols.allowed"))):i[2].equalsIgnoreCase("false")&&(U.Symbols=!1,$.inidb.set("chatModerator","regularsModerateSymbols",U.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.symbols.not.allowed")))}else if(m.equalsIgnoreCase("spam")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.spam",l(U.Spam)));i[2].equalsIgnoreCase("true")?(U.Spam=!0,$.inidb.set("chatModerator","regularsModerateSpam",U.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.spam.allowed"))):i[2].equalsIgnoreCase("false")&&(U.Spam=!1,$.inidb.set("chatModerator","regularsModerateSpam",U.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.spam.not.allowed")))}else if(m.equalsIgnoreCase("emotes")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.emotes",l(U.Emotes)));i[2].equalsIgnoreCase("true")?(U.Emotes=!0,$.inidb.set("chatModerator","regularsModerateEmotes",U.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.emotes.allowed"))):i[2].equalsIgnoreCase("false")&&(U.Emotes=!1,$.inidb.set("chatModerator","regularsModerateEmotes",U.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.emotes.not.allowed")))}else if(m.equalsIgnoreCase("colors")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.colors",l(U.Colors)));i[2].equalsIgnoreCase("true")?(U.Colors=!0,$.inidb.set("chatModerator","regularsModerateColors",U.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.colors.allowed"))):i[2].equalsIgnoreCase("false")&&(U.Colors=!1,$.inidb.set("chatModerator","regularsModerateColors",U.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.colors.not.allowed")))}else if(m.equalsIgnoreCase("longmessages")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.toggle.long.msg",l(U.LongMsg)));i[2].equalsIgnoreCase("true")?(U.LongMsg=!0,$.inidb.set("chatModerator","regularsModerateLongMsg",U.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.long.messages.allowed"))):i[2].equalsIgnoreCase("false")&&(U.LongMsg=!1,$.inidb.set("chatModerator","regularsModerateLongMsg",U.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.regulars.long.messages.not.allowed")))}}if(d.equalsIgnoreCase("subscribers")){if(!m)return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.usage"));if(m.equalsIgnoreCase("links")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.link",l(K.Links)));i[2].equalsIgnoreCase("true")?(K.Links=!0,$.inidb.set("chatModerator","subscribersModerateLinks",K.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.links.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Links=!1,$.inidb.set("chatModerator","subscribersModerateLinks",K.Links),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.links.not.allowed")))}else if(m.equalsIgnoreCase("caps")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.caps",l(K.Caps)));i[2].equalsIgnoreCase("true")?(K.Caps=!0,$.inidb.set("chatModerator","subscribersModerateCaps",K.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.caps.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Caps=!1,$.inidb.set("chatModerator","subscribersModerateCaps",K.Caps),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.caps.not.allowed")))}else if(m.equalsIgnoreCase("symbols")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.symbols",l(K.Symbols)));i[2].equalsIgnoreCase("true")?(K.Symbols=!0,$.inidb.set("chatModerator","subscribersModerateSymbols",K.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.symbols.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Symbols=!1,$.inidb.set("chatModerator","subscribersModerateSymbols",K.Symbols),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.symbols.not.allowed")))}else if(m.equalsIgnoreCase("spam")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.spam",l(K.Spam)));i[2].equalsIgnoreCase("true")?(K.Spam=!0,$.inidb.set("chatModerator","subscribersModerateSpam",K.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.spam.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Spam=!1,$.inidb.set("chatModerator","subscribersModerateSpam",K.Spam),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.spam.not.allowed")))}else if(m.equalsIgnoreCase("emotes")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.emotes",l(K.Emotes)));i[2].equalsIgnoreCase("true")?(K.Emotes=!0,$.inidb.set("chatModerator","subscribersModerateEmotes",K.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.emotes.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Emotes=!1,$.inidb.set("chatModerator","subscribersModerateEmotes",K.Emotes),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.emotes.not.allowed")))}else if(m.equalsIgnoreCase("colors")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.colors",l(K.Colors)));i[2].equalsIgnoreCase("true")?(K.Colors=!0,$.inidb.set("chatModerator","subscribersModerateColors",K.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.colors.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Colors=!1,$.inidb.set("chatModerator","subscribersModerateColors",K.Colors),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.colors.not.allowed")))}else if(m.equalsIgnoreCase("longmessages")){if(!i[2])return void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.toggle.long.msg",l(K.LongMsg)));i[2].equalsIgnoreCase("true")?(K.LongMsg=!0,$.inidb.set("chatModerator","subscribersModerateLongMsg",K.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.long.messages.allowed"))):i[2].equalsIgnoreCase("false")&&(K.LongMsg=!1,$.inidb.set("chatModerator","subscribersModerateLongMsg",K.LongMsg),$.say($.whisperPrefix(a)+$.lang.get("chatmoderator.subscribers.long.messages.not.allowed")))}}if(d.equalsIgnoreCase("linksmessage"))return m?(w=o.replace(d,"").trim(),$.inidb.set("chatModerator","linksMessage",w),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.message.set",w))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.link.message.usage"));if(d.equalsIgnoreCase("capsmessage"))return m?(I=o.replace(d,"").trim(),$.inidb.set("chatModerator","capsMessage",I),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.message.set",I))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.message.usage"));if(d.equalsIgnoreCase("symbolsmessage"))return m?(T=o.replace(d,"").trim(),$.inidb.set("chatModerator","symbolsMessage",T),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.message.set",T))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.message.usage"));if(d.equalsIgnoreCase("emotesmessage"))return m?(R=o.replace(d,"").trim(),$.inidb.set("chatModerator","emotesMessage",R),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.message.set",R))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.message.usage"));if(d.equalsIgnoreCase("colorsmessage"))return m?(O=o.replace(d,"").trim(),$.inidb.set("chatModerator","colorsMessage",O),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.message.set",O))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.colors.message.usage"));if(d.equalsIgnoreCase("longmsgmessage"))return m?(A=o.replace(d,"").trim(),$.inidb.set("chatModerator","longMessageMessage",A),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.message.set",A))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.message.usage"));if(d.equalsIgnoreCase("spammessage"))return m?(L=o.replace(d,"").trim(),$.inidb.set("chatModerator","spamMessage",L),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.message.set",L))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.message.usage"));if(d.equalsIgnoreCase("blacklistmessage"))return m?(W=o.replace(d,"").trim(),$.inidb.set("chatModerator","blacklistMessage",W),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.message.set",W))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.blacklist.message.usage"));if(d.equalsIgnoreCase("permittime"))return m?(x=parseInt(m),$.inidb.set("chatModerator","linkPermitTime",x),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.permit.time.set",x))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.permit.time.usage"));if(d.equalsIgnoreCase("capslimit"))return m?(P=parseFloat(m),$.inidb.set("chatModerator","capsLimitPercent",P),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.limit.set",P))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.limit.usage"));if(d.equalsIgnoreCase("capstriggerlength"))return m?(v=parseInt(m),$.inidb.set("chatModerator","capsTriggerLength",v),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.trigger.length.set",capsLimit))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.caps.trigger.length.usage"));if(d.equalsIgnoreCase("spamlimit"))return m?(k=parseInt(m),$.inidb.set("chatModerator","spamLimit",k),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.limit.set",k))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.spam.limit.usage"));if(d.equalsIgnoreCase("symbolslimit"))return m?(D=parseFloat(m),$.inidb.set("chatModerator","symbolsLimitPercent",D),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.limit.set",D))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.limit.usage"));if(d.equalsIgnoreCase("symbolsgrouplimit"))return m?(E=parseInt(m),$.inidb.set("chatModerator","symbolsLimitPercent",E),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.group.limit.set",E))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.group.limit.usage"));if(d.equalsIgnoreCase("symbolsTriggerLength"))return m?(B=parseInt(m),$.inidb.set("chatModerator","symbolsTriggerLength",B),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.trigger.length.set",B))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.symbols.trigger.length.usage"));if(d.equalsIgnoreCase("emoteslimit"))return m?(F=parseInt(m),$.inidb.set("chatModerator","emotesLimit",F),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.limit.set",F))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.emotes.limit.usage"));if(d.equalsIgnoreCase("messagecharacterlimit"))return m?(N=parseInt(m),$.inidb.set("chatModerator","longMessageLimit",N),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.limit.set",N))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.message.limit.usage"));if(d.equalsIgnoreCase("timeouttime"))return m?(H=parseInt(m),$.inidb.set("chatModerator","timeoutTime",H),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.timeout.time.set",H))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.timeout.time.usage"));if(d.equalsIgnoreCase("warningtime"))return m?(z=parseInt(m),$.inidb.set("chatModerator","warningTime",z),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.warning.time.set",z))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.warning.time.usage"));if(d.equalsIgnoreCase("messagecooldown"))return m?(J=parseInt(m),$.inidb.set("chatModerator","msgCooldownSec",J),void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.msgcooldown.set",J))):void $.say($.whisperPrefix(a)+$.lang.get("chatmoderator.msgcooldown.usage"))}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./core/chatmoderator.js")&&(r(),e(),$.registerChatCommand("./core/chatmoderator.js","permit",2),$.registerChatCommand("./core/chatmoderator.js","moderation",1),$.registerChatCommand("./core/chatmoderator.js","mod",1),$.registerChatCommand("./core/chatmoderator.js","blacklist",1),$.registerChatCommand("./core/chatmoderator.js","whitelist",1))}),$.timeoutUser=s,$.permitUserLink=g}();
