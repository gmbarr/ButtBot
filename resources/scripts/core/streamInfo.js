!function(){function t(t){return!$.twitch.GetStream(t).isNull("stream")}function e(t){var e=$.twitch.GetChannel(t);return e.isNull("status")?"":e.getString("status")}function a(t){var e=$.twitch.GetChannel(t);return e.isNull("game")?"":e.getString("game")}function n(t){var e,a,n=$.twitch.GetStream(t),s=new Date;return n.isNull("stream")?0:(e=new Date(n.getJSONObject("stream").getString("created_at")),e?(a=s-e,Math.floor(a/1e3)):0)}function s(t){var e,a,n=$.twitch.GetStream(t),s=new Date;return n.isNull("stream")?"Stream is offline":(e=new Date(n.getJSONObject("stream").getString("created_at")),e?(a=s-e,$.getTimeString(a/1e3)):"Stream is offline")}function r(t){var e,a=$.twitch.GetStream(t);return a.isNull("stream")?"Stream is offline":(e=new Date(a.getJSONObject("stream").getString("created_at")),$.dateToString(e))}function g(t){var e=$.twitch.GetStream(t);return e.isNull("stream")?0:e.getJSONObject("stream").getInt("viewers")}function i(t){var e=$.twitch.GetChannel(t);return e.isNull("followers")?0:e.getInt("followers")}function o(t,e,a){var n=$.twitch.UpdateChannel(t,"",e);n.getBoolean("_success")?200==n.getInt("_http")?($.inidb.set("streamInfo","game",n.getString("game")),$.say('Changed the game to "'+n.getString("game")+'"!'),$.logEvent("streamCommand.js",25,$.username.resolve(a)+" changed the current game to "+n.getString("game")),$.bot.isModuleEnabled("./commands/deathctrCommand.js")&&$.deathUpdateFile(e)):($.say($.whisperPrefix(a)+"Failed to change the game. TwitchAPI must be having issues"),$.consoleDebug(n.getString("message")),$.logError("streamCommand.js",29,n.getString("message"))):($.say("Failed to change the game. TwitchAPI must be having issues"),$.consoleDebug(n.getString("_exception")+" "+n.getString("_exceptionMessage")),$.logError("streamCommand.js",34,n.getString("_exception")+" "+n.getString("_exceptionMessage")))}function m(t,e,a){var n=$.twitch.UpdateChannel(t,e,"");n.getBoolean("_success")?200==n.getInt("_http")?($.inidb.set("streamInfo","title",n.getString("status")),$.say('Changed the title to "'+n.getString("status")+'"!'),$.logEvent("streamCommand.js",54,a+" changed the current status to "+n.getString("status"))):($.say($.whisperPrefix(a)+"Failed to change the status. TwitchAPI must be having issues"),$.consoleDebug(n.getString("message")),$.logError("streamCommand.js",58,n.getString("message"))):($.say($.whisperPrefix(a)+"Failed to change the status. TwitchAPI must be having issues"),$.consoleDebug(n.getString("_exception")+" "+n.getString("_exceptionMessage")),$.logError("streamCommand.js",63,n.getString("_exception")+" "+n.getString("_exceptionMessage")))}$.getFollows=i,$.getGame=a,$.getStatus=e,$.getStreamStartedAt=r,$.getStreamUptime=s,$.getStreamUptimeSeconds=n,$.getViewers=g,$.isOnline=t,$.updateGame=o,$.updateStatus=m}();
