!function(){function t(t){return!$.twitch.GetStream(t).isNull("stream")}function e(t){var e=$.twitch.GetChannel(t);return e.isNull("status")?"":e.getString("status")}function n(t){var e=$.twitch.GetChannel(t);return e.isNull("game")?"":e.getString("game")}function a(t){var e,n,a=$.twitch.GetStream(t),s=new Date;return a.isNull("stream")?"Stream is offline":(e=new Date(a.getJSONObject("stream").getString("created_at")),e?(n=s-e,$.getTimeString(n/1e3)):"Stream is offline")}function s(t){var e,n=$.twitch.GetStream(t);return n.isNull("stream")?"Stream is offline":(e=new Date(n.getJSONObject("stream").getString("created_at")),$.dateToString(e))}function g(t){var e=$.twitch.GetStream(t);return e.isNull("stream")?0:e.getJSONObject("stream").getInt("viewers")}function r(t){var e=$.twitch.GetChannel(t);return e.isNull("followers")?0:e.getInt("followers")}function i(t,e,n){var a=$.twitch.UpdateChannel(t,"",e);a.getBoolean("_success")?200==a.getInt("_http")?($.inidb.set("streamInfo","game",a.getString("game")),$.say('Changed the game to "'+a.getString("game")+'"!'),$.logEvent("streamCommand.js",25,$.username.resolve(n)+" changed the current game to "+a.getString("game"))):($.say($.whisperPrefix(n)+"Failed to change the game. TwitchAPI must be having issues"),$.consoleDebug(a.getString("message")),$.logError("streamCommand.js",29,a.getString("message"))):($.say("Failed to change the game. TwitchAPI must be having issues"),$.consoleDebug(a.getString("_exception")+" "+a.getString("_exceptionMessage")),$.logError("streamCommand.js",34,a.getString("_exception")+" "+a.getString("_exceptionMessage")))}function o(t,e,n){var a=$.twitch.UpdateChannel(t,e,"");a.getBoolean("_success")?200==a.getInt("_http")?($.inidb.set("streamInfo","title",a.getString("status")),$.say('Changed the title to "'+a.getString("status")+'"!'),$.logEvent("streamCommand.js",54,n+" changed the current status to "+a.getString("status"))):($.say($.whisperPrefix(n)+"Failed to change the status. TwitchAPI must be having issues"),$.consoleDebug(a.getString("message")),$.logError("streamCommand.js",58,a.getString("message"))):($.say($.whisperPrefix(n)+"Failed to change the status. TwitchAPI must be having issues"),$.consoleDebug(a.getString("_exception")+" "+a.getString("_exceptionMessage")),$.logError("streamCommand.js",63,a.getString("_exception")+" "+a.getString("_exceptionMessage")))}$.getFollows=r,$.getGame=n,$.getStatus=e,$.getStreamStartedAt=s,$.getStreamUptime=a,$.getViewers=g,$.isOnline=t,$.updateGame=i,$.updateStatus=o}();
